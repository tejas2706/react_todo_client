{"version":3,"sources":["config.js","Components/NewTask/index.js","Pages/Home/index.js","Pages/Login/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","apiPrefix","process","REACT_APP_API_PREFIX","NewTask","props","onChange","event","preventDefault","setState","target","name","value","console","log","state","addnewTask","a","fetch","method","headers","localStorage","getItem","body","JSON","stringify","date","Date","toLocaleString","res","json","result","_id","cancel","title","description","priority","className","onSubmit","this","type","onClick","Component","withRouter","Home","createNew","loading","deleteTodo","id","_","logout","clear","history","push","todos","getTodos","prevprops","prevstate","snapshot","token","Avatar","length","TableContainer","component","Paper","Table","size","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","row","index","scope","Login","handleChange","details","changeOption","selectedOption","submit","setItem","username","password","alert","msg","error","required","App","basename","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e123b400.chunk.js","sourcesContent":["module.exports = {\n    apiPrefix: process.env.REACT_APP_API_PREFIX || 'https://secure-oasis-82717.herokuapp.com'\n}","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport './styles.css';\nimport { apiPrefix } from '../../config';\n\nclass NewTask extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            title: \"\",\n            description: \"\",\n            priority: \"\",\n        }\n    }\n\n    onChange = (event) => {\n        event.preventDefault()\n        this.setState({ [event.target.name]: event.target.value })\n        console.log(this.state)\n    }\n\n    addnewTask = async(event) => {\n        event.preventDefault();\n        let res = await fetch(`${apiPrefix}/todo`,{\n            method:\"POST\",\n            headers:{\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': localStorage.getItem('token')\n            },\n            body:JSON.stringify({\n                ...this.state,\n                date:new Date().toLocaleString()\n            })\n        })\n\n        let result = await res.json()\n        if(result && result._id){\n            this.props.cancel()\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"newtask__container\">\n                <h3 className=\"newtask__title\">Create Task</h3>\n                <div>\n                    <form className=\"newtask__form\" onSubmit={this.addnewTask}>\n                        <label>\n                            <h3>Title :</h3>\n                            <input\n                                type=\"text\"\n                                name=\"title\"\n                                value={this.state.title}\n                                onChange={this.onChange}\n                                className=\"newtask__formLabel\"></input>\n                        </label>\n                        <label>\n                            <h3>Description : </h3>\n                            <textarea\n                                type=\"text\"\n                                name=\"description\"\n                                value={this.state.description}\n                                onChange={this.onChange}\n                                className=\"newtask__formLabelDescription\"></textarea>\n                        </label>\n                        <label>\n                            <h3>Priority : </h3>\n                            <input\n                                type=\"text\"\n                                name=\"priority\"\n                                value={this.state.priority}\n                                onChange={this.onChange}\n                                className=\"newtask__formLabel\"></input>\n                        </label>\n                        {/* <label>\n                            <h3>ETA : </h3>\n                            <input \n                            type=\"date\" \n                            name=\"ETA\"\n                            value={this.state.ETA}\n                            onChange={this.onChange}\n                            className=\"newtask__formLabel\"></input>\n                        </label> */}\n                        <div>\n                            <button className=\"newtask__submit\">Submit</button>\n                            <button value=\"cancel\" className=\"newtask__submit\" onClick={() => this.props.cancel()}>Cancel</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default withRouter(NewTask)","import React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Avatar from '@material-ui/core/Avatar';\nimport NewTask from '../../Components/NewTask';\nimport './styles.css';\nimport { withRouter } from 'react-router-dom';\nimport { apiPrefix } from '../../config';\nimport * as _ from 'lodash';\n\nclass Home extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\ttodos: [],\n\t\t\tcreateNew:false,\n\t\t\tloading:true\n\t\t}\n\t}\n\n\tcomponentDidMount (){\n        this.getTodos()\n\t}\n\n\tcomponentDidUpdate(prevprops,prevstate, snapshot){\n\t\tif(this.state.loading){\n\t\t\tthis.getTodos()\n\t\t\tthis.setState({loading:false})\n\t\t}\n\t}\n\n\tasync getTodos(){\n\t\ttry{\n\t\t\tconst token = localStorage.getItem(\"token\");\n\t\t\tif(!token){\n\t\t\t\tthis.props.history.push('/login')\n\t\t\t}\n\n            let res = await fetch(`${apiPrefix}/todos`, {\n                method:'GET',\n                headers:{\n                    'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': token\n                }\n            });\n\n            let result  = await res.json();\n\n            if(!_.isEmpty(result)){\n\t\t\t\tthis.setState({todos:result});\n            }\n\n        }catch(error){\n\t        console.log(\"Home -> getTodos -> error\", error)\n        }\n\t}\n\n\tcreateNew = () => {\n\t\tthis.setState({\"createNew\":true})\n\t}\n\n\tcancel = () => {\n\t\tthis.setState({\"createNew\":false, loading:true})\n\t}\n\n\tdeleteTodo = async (id) => {\n\t\ttry{\n\n            let res = await fetch(`${apiPrefix}/todo/${id}`, {\n                method:'DELETE',\n                headers:{\n                    'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem(\"token\")\n                }\n            });\n\n            let result  = await res.json();\n\n            if(!_.isEmpty(result)){\n\t\t\t\tthis.setState({loading:true})\n            }\n\n        }catch(error){\n\t        console.log(\"Home -> componentDidMount -> error\", error)\n        }\n\t}\n\n\tlogout = () => {\n\t\tlocalStorage.clear()\n\t\tthis.props.history.push('/login')\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"home__container\">\n\t\t\t\t{this.state.createNew ?\n\n\t\t\t\t\t<NewTask cancel={()=>this.cancel()} ></NewTask> :\n\n\t\t\t\t\t<div className=\"home__innerContainer\">\n\t\t\t\t\t\t<div className=\"home__header\">\n\t\t\t\t\t\t\t<button className=\"home__createNewButton\" onClick={()=>this.createNew()}>Create Task</button>\n\t\t\t\t\t\t\t<div className=\"home__accountDetails\">\n\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\tclassName=\"home__avatar\"\n\t\t\t\t\t\t\t\t\tonClick={()=>this.logout}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<h3 className=\"home__logout\" onClick={this.logout}>Logout</h3>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!this.state.todos.length ? \n\t\t\t\t\t\t\n\t\t\t\t\t\t<h3>No Todos, create new to add todos.</h3>\n\t\t\t\t\t\t\n\t\t\t\t\t\t:\n\n\t\t\t\t\t\t<TableContainer component={Paper}>\n\t\t\t\t\t\t\t<Table size=\"small\" aria-label=\"a dense table\">\n\t\t\t\t\t\t\t\t<TableHead className=\"home__tablehead\">\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t<TableCell>Sr no.</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Title</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Description&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Priority&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Date&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Action&nbsp;</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t{this.state.todos.map((row, index) => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={row._id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">{index + 1}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.title}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.description}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.priority}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.date}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\"><button className=\"home__delBtn\" onClick={()=>this.deleteTodo(row._id)}>Delete</button></TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</TableContainer>\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n\nexport default withRouter(Home);","import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport { apiPrefix } from '../../config';\nimport './styles.css';\n\nclass Login extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            details : {\n                name: \"\",\n                username: \"\",\n                password: \"\",\n            },\n            selectedOption:\"login\"\n        }\n    }\n\n    async componentDidMount (){\n        try{\n\n            let token = localStorage.getItem(\"token\");\n            if(token){\n                this.props.history.push('/home')\n            }\n        }catch(error){\n            //navigate to login page.\n        }\n    }\n\n\n    handleChange = (event) => {\n        if(event.target.value.length > 12){\n            return;\n        }\n        this.setState((prevstate)=>({\n            details:{\n                ...prevstate.details,\n                [event.target.name]: event.target.value\n            }\n        }))\n    }\n\n    changeOption = (event) => {\n        event !== this.state.selectedOption ? this.setState({selectedOption:event}) : console.log(\"Already selected\")\n    }\n\n    submit = async (event) =>{\n        event.preventDefault();\n        try{\n            let res = await fetch(`${apiPrefix}/${this.state.selectedOption}`, {\n                method:'POST',\n                headers:{\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body:JSON.stringify({\n                    ...this.state.details\n                })\n            });\n\n            let result  =  await res.json();\n            console.log(\"Login ->------------ result\", result)\n\n            if(result && result.token){\n                localStorage.setItem(\"token\",result.token);\n                this.props.history.push(\"/home\");\n            }else{\n                this.setState({\n                    details:\n                        {\n                            username:\"\",\n                            password:\"\"\n                    }\n                })\n                alert(result.msg);\n            }\n\n        }catch(error){\n            console.log(\"Login -> login -> error\", error)\n            this.setState({\n                details:\n                    {\n                        username:\"\",\n                        password:\"\"\n                }\n            })\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"login__container\">\n                <div className=\"login__btnGrp\">\n                    <button className=\"login__loginsignupBtn\" value=\"login\" onClick={()=>this.changeOption(\"login\")}>LOGIN &nbsp;&nbsp;</button>|\n                    <button className=\"login__loginsignupBtn\" value=\"signup\" onClick={()=>this.changeOption(\"signup\")}>&nbsp;&nbsp;SIGN UP</button>\n                </div>\n                <div className=\"login__line\"></div>\n                {this.state.selectedOption === \"login\" ?\n                    <div>\n                        <h3 className=\"login__title\">Login</h3>\n                        <div>\n                            <form className=\"login__form\" onSubmit={this.submit}>\n                                <label>\n                                    <h2>Username :</h2>\n                                    <input\n                                        required\n                                        type=\"text\"\n                                        name=\"username\"\n                                        value={this.state.details.username}\n                                        onChange={this.handleChange}\n                                        className=\"login__formLabel\"></input>\n                                </label>\n                                <label>\n                                    <h2>Password :</h2>\n                                    <input\n                                        required\n                                        type=\"password\"\n                                        name=\"password\"\n                                        value={this.state.details.password}\n                                        onChange={this.handleChange}\n                                        className=\"login__formLabel\"></input>\n                                </label>\n                                <div>\n                                    <button className=\"login__submit\">Login</button>\n                                    {/* <button value=\"submit\" className=\"login__submit\" onClick={() => this.loginSignUp()}>Login</button> */}\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                    :\n                    <div>\n                        <h3 className=\"login__title\">Sign Up</h3>\n                        <div>\n                            <form className=\"login__form\" onSubmit={this.submit}>\n                                <label>\n                                    <h2>Name :</h2>\n                                    <input\n                                        required\n                                        type=\"text\"\n                                        name=\"name\"\n                                        value={this.state.details.name}\n                                        onChange={this.handleChange}\n                                        className=\"login__formLabel\"></input>\n                                </label>\n                                <label>\n                                    <h2>Username :</h2>\n                                    <input\n                                        required\n                                        type=\"text\"\n                                        name=\"username\"\n                                        value={this.state.details.username}\n                                        onChange={this.handleChange}\n                                        className=\"login__formLabel\"></input>\n                                </label>\n                                <label>\n                                    <h2>Password :</h2>\n                                    <input\n                                        required\n                                        type=\"password\"\n                                        name=\"password\"\n                                        value={this.state.details.password}\n                                        onChange={this.handleChange}\n                                        className=\"login__formLabel\"></input>\n                                </label>\n                                <div>\n                                    <button className=\"login__submit\">Login</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nexport default withRouter(Login);","import './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  HashRouter\n} from \"react-router-dom\";\n\nimport NewTask from './Components/NewTask';\nimport Home from './Pages/Home';\nimport Login from './Pages/Login';\n\nfunction App() {\n  return (\n      <HashRouter basename='/'>\n          <Route exact path=\"/\"><Login /></Route>\n          <Route path=\"/login\"><Login /></Route>\n          <Route path=\"/home\"><Home /></Route>\n      </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}